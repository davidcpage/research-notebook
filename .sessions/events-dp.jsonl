{"id":"dp-s001","date":"2025-12-15","topic":"planning-and-issue-setup","learnings":["Symlinked skills need Path.cwd() not Path(__file__).resolve() to write data to the correct repo - __file__ resolves through symlinks to the original location","Breaking large features into smaller issues with blocked_by dependencies makes work more tractable and progress visible","Session cards and sessions skill can work together: sessions skill for curated summaries/learnings, session cards for full transcript archives with drill-down","Design docs in dev/planning/ provide good foundation for issue descriptions - reference specific sections for traceability"],"open_questions":["Should we add an issue for the symlink fix to skill-issues repo?","What priority order for the 4 ready issues (001, 006, 007, 008)?"],"next_actions":["Consider committing the skill fixes to skill-issues repo","Pick first issue to work on from ready list"],"issues_worked":["dp-001","dp-002","dp-003","dp-004","dp-005","dp-006","dp-007","dp-008"],"user":"dp"}
{"id":"dp-s002","date":"2025-12-15","topic":"split-pane-scroll-fix","learnings":["height: 100% chains don't reliably resolve in nested flex contexts - viewport-based max-height (calc(90vh - offset)) is more reliable for scrollable regions","When debugging CSS scroll issues, identify which container is actually scrolling vs which should scroll independently"],"open_questions":[],"next_actions":["Consider similar fix needed for card preview split-pane if issues arise there"],"issues_worked":["dp-009"],"user":"dp"}
{"id":"dp-s003","date":"2025-12-15","topic":"claude-mem-review-session-card-redesign","learnings":["claude-mem uses structured sections (Investigated/Learned/Completed/Next Steps) instead of raw transcripts - more scannable and smaller than full JSONL files","Progressive disclosure via toggle buttons (facts vs narrative view) is effective UX for dense session content","Our sessions skill already captures most needed fields: learnings\u2192Learned, next_actions\u2192Next Steps, open_questions (unique to us), issues_worked\u2192Completed","Hybrid approach for session cards: structured summaries from sessions skill as primary view, full transcript as optional drill-down tab","Dependency chains should reflect implementation reality - sessions skill integration (#005) is foundation, transcript parsing (#001) is optional enhancement"],"open_questions":[],"next_actions":["Implement #005 (session cards from sessions skill) when ready - now P1 and unblocked","Evolve sessions skill fields organically as we build the card UI rather than pre-planning schema changes"],"issues_worked":["dp-010","dp-005","dp-002","dp-001","dp-003","dp-004"],"user":"dp"}
{"id":"dp-s004","date":"2025-12-15","topic":"css-architecture-review","learnings":["2200 lines of CSS is proportionate to app complexity - multiple card types, layouts, viewers, editors, print styles","Template CSS variables already well-architected - colors shared via combined selectors for card+viewer","Markdown typography duplicated in 3 places: .preview-content, .viewer-markdown, .viewer-description","Code block styling (.preview-code, .viewer-code-only) and split pane layouts also duplicated"],"open_questions":[],"next_actions":["Refactor CSS with shared base classes (.md-content, .code-block) - tracked in issue 011"],"issues_worked":["dp-011"],"user":"dp"}
{"id":"dp-s005","date":"2025-12-15","topic":"css-layers-phase1","learnings":["CSS @layer provides explicit cascade control - unlayered styles always beat layered styles regardless of specificity","Inlining vendor CSS (~100 lines) into a layer is cleaner than fighting CDN load order with !important","hljs adds padding:1em to code elements - need explicit padding:0 overrides in code preview containers"],"open_questions":["Should we increase code preview limit further than 800 chars, or is that sufficient?"],"next_actions":["Phase 2: Organize existing CSS into layer blocks (issue 013)","Phase 3: Consolidate shared patterns like .md-content (issue 014)"],"issues_worked":["dp-011","dp-012","dp-013","dp-014"],"user":"dp"}
{"id":"dp-s006","date":"2025-12-15","topic":"css-layers-phase2","learnings":["CSS @layer blocks can be reopened multiple times - styles merge into the same layer","Print styles should stay unlayered since they use !important extensively and need to override everything","Layer structure: reset < vendors < base < components < templates (unlayered theme.css wins over all)"],"open_questions":[],"next_actions":["Phase 3: Create shared .md-content class for markdown typography (issue 014)"],"issues_worked":["dp-013"],"user":"dp"}
{"id":"dp-s007","date":"2025-12-15","topic":"css-layers-phase3","learnings":["Created .md-content shared class with 25 rules for markdown typography (headings, lists, code, tables, etc.)","Pattern: elements get both classes (e.g. class='md-content preview-content') - base + context-specific overrides","Reduced CSS by net 21 lines while maintaining identical visual output"],"open_questions":[],"next_actions":[],"issues_worked":["dp-014"],"user":"dp"}
{"id":"dp-s008","date":"2025-12-15","topic":"css-layers-complete","learnings":["theme.css now loads into @layer theme - highest layer but still beaten by unlayered print styles","Print styles don't need \\!important - being unlayered means they beat all layers automatically","Full layer hierarchy: reset < vendors < base < components < templates < theme < [unlayered]"],"open_questions":[],"next_actions":[],"issues_worked":["dp-011","dp-014"],"user":"dp"}
{"id":"dp-s009","date":"2025-12-15","topic":"css-layers-documentation","learnings":["CSS cascade layers architecture should be documented in CLAUDE.md for future reference","Key documentation: layer hierarchy table with purpose and when-to-use guidance"],"open_questions":[],"next_actions":[],"issues_worked":["dp-011","dp-014"],"user":"dp"}
{"id":"dp-s010","date":"2025-12-15","topic":"session-cards-implementation","learnings":["Session cards MVP implemented: template, preview/viewer renderers, CSS, filesystem loading from .memory/sessions.jsonl","Skills don't have a standard config pattern - they're 'instructions-first, not state-first' per official docs","Symlinked skill directories can't have local config.yaml shadowed - the whole directory is symlinked, not individual files","research-notebook is special case: dev/ folder is the natural notebook for development, but skills write to repo root by default"],"open_questions":["How should symlinked skills support per-project configuration without breaking self-containment?","Should skill config live in project CLAUDE.md, a separate file, or environment variables?"],"next_actions":["Design skill configuration pattern in skill-issues repo that works with symlinks","Once config pattern decided, move .issues/ and .memory/ to dev/ for research-notebook","Test session cards in browser to verify rendering works"],"issues_worked":["dp-005","dp-015","dp-016","dp-017"],"user":"dp"}
{"id":"dp-s011","date":"2025-12-15","topic":"permission-scope-design","learnings":["File System Access API won't follow symlinks outside permission scope - this is a security restriction, not a bug","Granting permission to parent directory does allow access to .memory/ - confirmed via console test","Core tension identified: permission scope and notebook initialization (.notebook/) are tightly coupled but shouldn't be"],"open_questions":["Which solution pattern for permission scope issue: notebook_root setting, external directory linking, standardized dev folder, or accept limitation?","Should session/issue cards be editable in notebook or stay read-only views of skill data?"],"next_actions":["Review repo-dev-companion.md design doc and decide on approach","Consider medium-term Option A: auto-discover .notebook/ in subdirectories when opening parent"],"issues_worked":["dp-005"],"user":"dp"}
{"id":"dp-s012","date":"2025-12-15","topic":"permission-scope-design-continued","learnings":["Created issue #018 for notebook root auto-discovery feature","Auto-discovery enables multiple notebook selection from single parent permission grant","Issues skill has silent failure bug: --create returns success JSON but fails to append when description has special characters or --labels flag used"],"open_questions":["What causes issues.py --create to silently fail with complex descriptions?"],"next_actions":["Investigate and fix silent failure bug in issues skill"],"issues_worked":["dp-005","dp-018"],"user":"dp"}
{"id":"dp-s013","date":"2025-12-16","topic":"artifacts-vs-process-decision","learnings":["Key distinction: artifacts (lasting, editable, notebook) vs process (transient, append-only, CLI)","Sessions and issues are process logs - they don't belong in notebook as cards","ADR-style design docs are artifacts - they naturally fit as markdown notes, no special skill needed","Permission scope problem dissolves when not integrating sessions/issues into notebook","TUI tool may be better fit for sessions/issues viewing than notebook cards"],"open_questions":[],"next_actions":["Consider TUI for skill-issues to provide richer viewing experience"],"issues_worked":["dp-001","dp-002","dp-003","dp-004","dp-005","dp-015","dp-016","dp-017","dp-018"],"user":"dp"}
{"id":"dp-s014","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-planning","learnings":["Single HTML file architecture is hitting limits - themes, defaults, maintainability","ES module imports work with file:// protocol in modern browsers - enables multi-file without server","fetch() doesn't work with file://, but dynamic import() does - themes/defaults must be JS modules exporting strings","Lazy/copy-on-write for notebook defaults: app loads from its directory, writes to notebook only on edit","Notebooks are already multi-file (directories); single-file constraint only applies to app itself"],"open_questions":["Best approach for CLAUDE.md initialization in notebooks? (CLI vs app button vs auto-create)","Optimal JS module granularity? (by section vs finer-grained vs by feature)"],"next_actions":["Start with dp-019: convert CSS themes to ES modules and verify file:// imports work"],"issues_worked":["dp-019","dp-020","dp-021","dp-022","dp-023","dp-024","dp-025"]}
{"id":"dp-s015","user":"dp","date":"2025-12-26","topic":"example-notebooks-decision","learnings":["Example notebooks as templates solve CLAUDE.md initialization - different use cases need different Claude instructions","Card templates should only be included in examples if genuinely customized, standard types inherit via lazy/copy-on-write","Confirmed no .sessions confusion in architecture doc - correctly describes only .notebook/ structure"],"open_questions":["What specific Claude instructions should go in tutor-notebook CLAUDE.md vs research-notebook?","Should demo-notebook be refactored into research-notebook or kept separate?"],"next_actions":["Start dp-019: convert themes to ES modules (still the first implementation step)"],"issues_worked":["dp-025","dp-026"]}
{"id":"dp-s016","user":"dp","date":"2025-12-26","topic":"migration-issues-review","learnings":["Removed defaults/claude-md.js and defaults/readme.js from plan - CLAUDE.md/README.md now live only in example notebooks","dp-024 (cleanup) must depend on both dp-023 (theme picker) AND dp-026 (examples) - can't finish cleanup until examples exist","Phase 5 split into 5a (Theme System) and 5b (Example Notebooks) which can run in parallel after Phase 4"],"open_questions":[],"next_actions":["Start dp-019: create directory structure and convert themes to ES modules"],"issues_worked":["dp-022","dp-024","dp-026"]}
{"id":"dp-s017","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-phase1-2","learnings":["ES module imports work with file:// protocol in Chrome/Edge - key enabler for no-build-step architecture","Themes as JS modules: export name, description, and default CSS string - allows metadata without loading all CSS upfront","CSS extraction straightforward: sed to extract lines, preserve @layer structure, link from index.html"],"open_questions":["Will JS extraction (Phase 3) require careful ordering due to global state dependencies?"],"next_actions":["Continue with dp-021 (Extract JavaScript) - largest phase, may need sub-tasks"],"issues_worked":["dp-019","dp-020"]}
{"id":"dp-s018","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-phase3","learnings":["Single-file JS extraction simpler than multi-module refactor - do incremental steps","Extracted 6500 lines of JS to js/app.js, index.html now 210 lines (HTML only)","App works without changes - just external script loading"],"open_questions":[],"next_actions":["Split js/app.js into ES modules (dp-027) - handle circular deps carefully"],"issues_worked":["dp-021","dp-027"]}
{"id":"dp-s019","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-conclusion","learnings":["ES modules require server - incompatible with file:// protocol design goal","Regular script splitting without ES modules provides no real encapsulation benefit","Single js/app.js with section markers + generate_index.py is adequate for ~6500 lines"],"open_questions":[],"next_actions":[],"issues_worked":["dp-027"]}
{"id":"dp-s020","user":"dp","date":"2025-12-26","topic":"multi-file-js-modules-rejected","learnings":["ES modules require HTTP server - don't work with file:// protocol","Regular script splitting (non-ES) provides no encapsulation - all functions global","Single js/app.js with section markers is cleaner than multiple global-scope files","Phases 1-3 complete: index.html + css/app.css + js/app.js separation is the practical endpoint"],"open_questions":[],"next_actions":["Consider merging refactor/multi-file-architecture to main"],"issues_worked":["dp-027"]}
{"id":"dp-s021","user":"dp","date":"2025-12-26","topic":"multi-file-cleanup","learnings":["ES modules rejected - require server, incompatible with file:// protocol","Single js/app.js with section markers is practical endpoint for multi-file refactor","generate_index.py updated to parse js/app.js (functions no longer indented)","Created 3 example notebooks with different themes: research (manuscript), dev (terminal), tutor (friendly)"],"open_questions":[],"next_actions":[],"issues_worked":["dp-022","dp-026"]}
{"id":"dp-s022","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-complete","learnings":["Notebooks with .notebook/settings.yaml are recognized as existing (not re-initialized)","Example notebooks should be minimal: settings.yaml, theme.css, CLAUDE.md, README.md only","Empty notebooks no longer auto-create Research section - users add first section manually","Dark themes need comprehensive CSS variable overrides including buttons, modals, inputs"],"open_questions":[],"next_actions":[],"issues_worked":["dp-024","dp-028"]}
{"id":"dp-s023","user":"dp","date":"2025-12-26","topic":"server-based-architecture","learnings":["ES modules don't work with file:// protocol - this is a hard browser limitation due to CORS","Accepting server requirement unlocks real CSS/YAML files instead of JS-wrapped strings","npm link creates global symlink without needing to publish to npm registry","Node.js built-in http module is sufficient for static file serving - no dependencies needed"],"open_questions":["Should we add live-reload to the CLI server for better dev experience?","How should theme picker handle 'Custom' option - preserve existing or show diff?"],"next_actions":["Continue with dp-030 (convert themes to CSS) or dp-031 (extract templates to YAML)","After dp-030+dp-031, update app.js to fetch dynamically (dp-032)"],"issues_worked":["dp-029"]}
{"id":"dp-s024","user":"dp","date":"2025-12-26","topic":"dynamic-asset-loading","learnings":["Replaced embedded template strings with fetch from /defaults/templates/*.yaml","Replaced embedded theme strings with fetch from /defaults/theme.css and /themes/*.css","Modified indicator removed for CLAUDE.md and README.md - users provide these manually","Removed getReadmeTemplate() and getClaudeMdTemplate() - users fork from demo notebooks","App now requires server (notebook serve) but gains real CSS/YAML files"],"open_questions":[],"next_actions":[],"issues_worked":["dp-030","dp-031","dp-032"]}
{"id":"dp-s025","user":"dp","date":"2025-12-26","topic":"theme-picker-and-examples","learnings":["Implemented theme picker with base theme + customizations architecture","Created friendly.css base theme from tutor-notebook styling","Updated all 4 example notebooks to use base themes via settings.yaml","CSS cascade: css/app.css \u2192 /themes/{id}.css (base) \u2192 .notebook/theme.css (customizations)","Closed issues: dp-033 (file:// detection), dp-034 (theme picker), dp-035 (cleanup), dp-037 (examples duplicate)"],"open_questions":[],"next_actions":["Update CLAUDE.md with new architecture and server requirement"],"issues_worked":["dp-033","dp-034","dp-035","dp-037"]}
{"id":"dp-s026","user":"dp","date":"2025-12-26","topic":"documentation-and-review","learnings":["Updated CLAUDE.md with server requirement, new theming architecture, and expanded file structure","Updated themes/README.md with theme picker instructions and added friendly theme","Created server-architecture-review.md analyzing patterns that could be revisited post-server","Key insight: ES module splitting now possible but low priority; server-side file watching is medium priority opportunity"],"open_questions":[],"next_actions":["Consider server-side file watching if expanding server functionality"],"issues_worked":["dp-036"]}
{"id":"dp-s027","user":"dp","date":"2025-12-26","topic":"ai-tutor-planning","learnings":["Rewrote exploratory AI tutor discussion into structured implementation plan","Quiz card type supports 6 question types: multiple_choice, numeric, short_answer, worked, matching, ordering","Non-auto-gradable questions (short_answer, worked) record answers for Claude Code review","Tutor notebook uses CLAUDE.md to instruct Claude on pedagogical approach and quiz workflow"],"open_questions":["One question at a time vs all visible - could be quiz-level or settings option","Timer support for quizzes - defer unless requested"],"next_actions":["Start implementation with dp-038 (quiz template), dp-046 (CLAUDE.md), dp-047 (README.md)"],"issues_worked":["dp-038","dp-039","dp-040","dp-041","dp-042","dp-043","dp-044","dp-045","dp-046","dp-047","dp-048","dp-049","dp-050"]}
{"id":"dp-s028","user":"dp","date":"2025-12-26","topic":"quiz-phase1-implementation","learnings":["Quiz template uses layout:quiz for card/viewer, layout:yaml for editor (raw JSON editing)","Viewer will become interactive quiz-taking mode (design change from original plan)","renderQuizViewer supports all 6 question types with read-only display and attempt history","Quiz CSS uses template variables for theming (--quiz-correct-bg, --quiz-incorrect-bg, etc.)"],"open_questions":[],"next_actions":[],"issues_worked":["dp-038","dp-039","dp-040","dp-041"]}
{"id":"dp-s029","user":"dp","date":"2025-12-26","topic":"quiz-phase2-implementation","learnings":["Quiz viewer now has interactive mode (isInteractive flag) vs review mode based on attempt state","Each question type has interactive input controls: radio buttons, number input, textarea, dropdowns, up/down ordering buttons","gradeQuizAttempt auto-grades MC/numeric/matching/ordering; marks short_answer/worked as pending_review","Quiz state tracked in global quizAnswers object keyed by quiz ID and question index"],"open_questions":[],"next_actions":[],"issues_worked":["dp-042","dp-043","dp-044","dp-045"]}
{"id":"dp-s030","user":"dp","date":"2025-12-26","topic":"quiz-phase2-debugging","learnings":["Fixed auto-grading: Paris now correctly marked as correct - the core grading logic works","Fixed findCardById to convert IDs to strings (matching openViewer pattern)","Fixed viewer selectors from '.viewer-body' to '#viewerContent' in retakeQuiz and saveQuizAttempt","Discovered getTemplateForCard() doesn't exist - need to use templateRegistry[card.template || card.type]"],"open_questions":["Why does retakeQuiz re-render not show immediately? May need to investigate viewer modal update lifecycle"],"next_actions":["Fix getTemplateForCard references to use templateRegistry directly","Remove console.log debugging statements added during investigation"],"issues_worked":["dp-042","dp-043","dp-044","dp-045","dp-051"]}
{"id":"dp-s031","user":"dp","date":"2025-12-26","topic":"quiz-phase2-completion","learnings":["Fixed quiz submission to save to filesystem (saveData only saved to IndexedDB)","Quiz review system works end-to-end: Claude edits file, filesystem observer auto-refreshes viewer","Fisher-Yates shuffle for matching question dropdown options prevents answer order matching","Review UI with Mark Correct/Incorrect buttons and optional feedback textarea","refreshOpenViewer() re-renders viewer content when filesystem changes detected"],"open_questions":["Should we add quiz-specific variables to all base themes (currently only in quiz template CSS)?"],"next_actions":["Update tutor notebook CLAUDE.md with quiz workflow instructions (dp-046)","Update tutor notebook README.md with user documentation (dp-047)"],"issues_worked":["dp-051","dp-048"]}
{"id":"dp-s032","user":"dp","date":"2025-12-26","topic":"quiz-self-review-setting","learnings":["quiz_self_review setting controls whether students can self-mark pending answers","When disabled, shows 'Awaiting review' badge - Claude reviews by editing file directly","Filesystem observer auto-refreshes viewer when Claude edits quiz file - seamless UX"],"open_questions":[],"next_actions":[],"issues_worked":["dp-052"]}
{"id":"dp-s033","user":"dp","date":"2025-12-26","topic":"ai-tutor-docs","learnings":["Tutor notebook needs tailored CLAUDE.md with quiz workflow docs and README with user-facing getting started guide","CLAUDE.md structure: role definition, tutoring principles, quiz system (create/review), content creation, common requests table, session flow","README.md structure: how it works, getting started steps, what you can do, organizing learning, quiz types, learning tips"],"open_questions":[],"next_actions":[],"issues_worked":["dp-046","dp-047"]}
{"id":"dp-s034","user":"dp","date":"2025-12-27","topic":"google-forms-integration","learnings":["Google Forms API + Apps Script supports full teacher workflow: export quiz, import responses, submit grades with personalized feedback back to Forms","clasp CLI enables automation after one-time OAuth setup; service accounts cannot call Apps Script API (Google limitation)","Teacher review before export is critical - final export must be deterministic, pushing only teacher-approved grades","Response cards per student (one section per quiz) enables class analytics, progress tracking, and spreadsheet summaries","Question types can be a superset: support all Google Forms types plus our extras (numeric with tolerance, ordering), with warnings on incompatible exports"],"open_questions":["Should google-forms-bridge Apps Script project live in research-notebook repo or as separate project?","Should we migrate matching questions to grid semantics to align with Google Forms?"],"next_actions":["Implement Apps Script bridge Phase 1: exportFormToJSON, createFormFromJSON, exportResponsesToJSON, submitGradesToForm","Document clasp setup process in README for teacher onboarding","Design quiz-response card type for storing student submissions with grade hierarchy (auto/claude/teacher)"],"issues_worked":[]}
{"id":"dp-s035","user":"dp","date":"2025-12-27","topic":"google-forms-design-finalization","learnings":["Privacy-by-default: student IDs only in notebook files, names/emails in external roster (~/.notebook/rosters/), browser UI toggle for blind grading","Bulk grading via Anthropic Batch API with prompt caching is ~0.75x cost of single-prompt AND eliminates order effects - best of both worlds","Teacher review is the security boundary for prompt injection - string matching/pre-classification is security theater, system prompt warning is sufficient","Component separation: tools/grading/ (general infrastructure) vs google-forms-bridge/ (Google-specific) enables future platform integrations","GradeAssistant PoC reviewed - our approach improves on it with batch API, privacy-by-default, teacher review before export, and calibration examples"],"open_questions":["Best order to implement Phase 1 issues - should roster come before response cards, or can they be done in parallel?","Should we prototype the Anthropic Batch API integration first to validate the approach before building full infrastructure?"],"next_actions":["Start implementation with dp-053 (quiz-response template) and dp-057 (Google Forms bridge setup) as foundational pieces","Implement dp-055 (bulk API grading) early to validate batch API + caching approach"],"issues_worked":["dp-053","dp-054","dp-055","dp-056","dp-057","dp-058","dp-059","dp-060","dp-061","dp-062","dp-063","dp-064","dp-065","dp-066","dp-067","dp-068","dp-069"]}
{"id":"dp-s036","user":"dp","date":"2025-12-28","topic":"quiz-response-template-implementation","learnings":["quiz-response template is the foundation for classroom grading - many issues depend on it (dp-056, dp-063, dp-065, dp-067, dp-068)","Grade hierarchy pattern: autoGrade (immutable) -> claudeGrade (AI suggestion) -> teacherGrade (final authority) - each answer can have all three","Teacher grading UI includes 'Approve AI Grade' button for quick review - copies claudeGrade to teacherGrade with reviewer attribution","Response cards reference quizId to load question text at render time - keeps responses lightweight and quiz as single source of truth","Status progression: pending -> graded (has AI grades) -> reviewed (all teacher grades) -> exported (sent to Google Forms)"],"open_questions":["Should response cards support inline editing of answers, or is view-only sufficient for the grading workflow?"],"next_actions":["Test the quiz-response UI in browser with tutor-notebook example","Implement dp-055 (bulk grading) next to validate the batch API approach","Consider dp-070 (test fixtures) to create more comprehensive sample data"],"issues_worked":["dp-053","dp-070"]}
{"id":"dp-s037","user":"dp","date":"2025-12-28","topic":"google-forms-grading-infrastructure","learnings":["Created tools/grading/ with grade_responses.py supporting --dry-run mode for testing without API keys","Implemented privacy-by-default roster system: student IDs in notebook, PII in external roster files","Built Google Apps Script bridge (google-forms-bridge/) with ExportResponses.gs and ImportGrades.gs","Anthropic prompt caching is enabled in grade_responses.py via cache_control ephemeral on system prompt","Python type hints with | union syntax require 'from __future__ import annotations' for older Python versions"],"open_questions":["How will the grading tools integrate with Claude Code skills? Need /grade-quiz skill design","Should we add batch API support (vs single requests) to grade_responses.py for cost optimization?"],"next_actions":["Test Apps Script bridge with real Google Form using clasp deploy","Implement quiz type extensions: scale and grid question types","Create /grade-quiz skill for Claude Code integration"],"issues_worked":[]}
{"id":"dp-s038","user":"dp","date":"2025-12-28","topic":"quiz-type-extensions-google-forms","learnings":["Scale question type: low/high bounds with endpoint labels, auto-grades if correct value specified, renders as horizontal radio scale","Grid question type: rows \u00d7 columns matrix with per-row radio selection, auto-grades if correctAnswers specified, renders as styled table","Extended multiple_choice: allowMultiple enables checkbox mode with array answers, display:'dropdown' renders as select element, correctMultiple for checkbox grading","Interaction handlers for new types: selectScaleOption, selectGridOption, toggleQuizCheckbox - each updates quizAnswers state correctly","CSS patterns: Scale uses horizontal flexbox with endpoint labels, Grid uses table-like structure with header row/column, Checkbox shows checkmark on selected"],"open_questions":["Should date/time/rating question types be added next? They're in the design doc but lower priority than the implemented types"],"next_actions":["Consider implementing import/export warnings for incompatible types (ordering, numeric tolerance) - remaining Phase 2 item","Test the new question types in browser with a sample quiz containing all variants"],"issues_worked":["dp-062"]}
{"id":"dp-s039","user":"dp","date":"2025-12-28","topic":"quiz-survey-support","learnings":["Survey questions need 'answered' status distinct from 'pending_review' - surveys just record responses, no grading needed","Grid correctAnswers supports object format {RowName: ColName} which is more intuitive than array of indices","quizHasGradedQuestions() helper detects pure surveys vs graded quizzes for appropriate UI display","Both grading logic AND render functions must check for correct answer existence - grading sets status, rendering shows visual feedback"],"open_questions":["Should 'answered' questions allow optional teacher feedback without correct/incorrect marking?"],"next_actions":["Test the graded quiz with intentionally wrong answers to verify feedback UI"],"issues_worked":["dp-062"]}
{"id":"dp-s040","user":"dp","date":"2025-12-28","topic":"points-partial-credit","learnings":["Partial credit formula for checkbox: correct/max(selected,required) is fairer than (correct-incorrect)/total - avoids double-penalizing","CSS specificity: .selected.incorrect must come after .selected to override the blue selected style with red","Score display should exclude pending review items from denominator for clarity (7/10 pts, 2 awaiting vs 7/15 pts)","Unknown template errors are almost always YAML syntax errors in /defaults/templates/, not missing files - validate with python yaml.safe_load()"],"open_questions":["Should the grading system support custom partial credit formulas per question type?"],"next_actions":["Test partial credit with various edge cases (all correct, all wrong, empty selection)"],"issues_worked":["dp-071"]}
{"id":"dp-s041","user":"dp","date":"2025-12-28","topic":"quiz-editor-planning","learnings":["Quiz editor uses existing 'questions' field type pattern - extend renderEditorField() rather than custom layout","Advanced fields (hint, explanation, modelAnswer, rubric) grouped in collapsible section for clean UI","Type change requires confirmation dialog to warn about data loss","Phased implementation: Phase 1 covers core + MC/short_answer/worked; Phase 2 adds numeric/scale; Phase 3 adds matching/ordering/grid"],"open_questions":["Should we support duplicate question functionality to copy questions as starting points?"],"next_actions":["Implement Phase 1 quiz editor (dp-073) - core infrastructure with basic question types"],"issues_worked":["dp-072","dp-073","dp-074","dp-075"]}
{"id":"dp-s042","user":"dp","date":"2025-12-28","topic":"quiz-editor-phase1-implementation","learnings":["Quiz editor uses 'questions' field type in renderEditorField() - extends existing editor infrastructure rather than custom layout","Split checkbox/dropdown into separate types from multiple_choice - cleaner than allowMultiple toggle, matches Google Forms mental model","Options preserved when switching between MC-family types (multiple_choice, checkbox, dropdown) - correct answer format auto-converts","Advanced fields (modelAnswer, rubric) only shown for AI-graded types (short_answer, worked) - auto-graded types just show hint/explanation","Viewer-style options editor: letter circles, inline editable text, checkmark toggle for correct answer"],"open_questions":["Should calibration examples for AI grading be structured UI or embedded in rubric markdown?"],"next_actions":["Implement Phase 2 (dp-074): numeric type with answer/tolerance, scale type with bounds/labels"],"issues_worked":["dp-072","dp-073","dp-076"]}
{"id":"dp-s043","user":"dp","date":"2025-12-29","topic":"quiz-editor-phase2-3","learnings":["Tolerance bands for numeric questions removed - over-engineering beyond Google Forms capabilities","Grid editor uses rows/columns list editors + clickable matrix for correct answers","Matching and ordering types deprecated and removed - not supported by Google Forms","Phase 1 checkbox/dropdown types needed viewer/grading fixes (were split from multiple_choice but switch cases not updated)"],"open_questions":[],"next_actions":[],"issues_worked":["dp-072","dp-074","dp-075"]}
