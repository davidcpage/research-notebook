{"id":"dp-s001","date":"2025-12-15","topic":"planning-and-issue-setup","learnings":["Symlinked skills need Path.cwd() not Path(__file__).resolve() to write data to the correct repo - __file__ resolves through symlinks to the original location","Breaking large features into smaller issues with blocked_by dependencies makes work more tractable and progress visible","Session cards and sessions skill can work together: sessions skill for curated summaries/learnings, session cards for full transcript archives with drill-down","Design docs in dev/planning/ provide good foundation for issue descriptions - reference specific sections for traceability"],"open_questions":["Should we add an issue for the symlink fix to skill-issues repo?","What priority order for the 4 ready issues (001, 006, 007, 008)?"],"next_actions":["Consider committing the skill fixes to skill-issues repo","Pick first issue to work on from ready list"],"issues_worked":["dp-001","dp-002","dp-003","dp-004","dp-005","dp-006","dp-007","dp-008"],"user":"dp"}
{"id":"dp-s002","date":"2025-12-15","topic":"split-pane-scroll-fix","learnings":["height: 100% chains don't reliably resolve in nested flex contexts - viewport-based max-height (calc(90vh - offset)) is more reliable for scrollable regions","When debugging CSS scroll issues, identify which container is actually scrolling vs which should scroll independently"],"open_questions":[],"next_actions":["Consider similar fix needed for card preview split-pane if issues arise there"],"issues_worked":["dp-009"],"user":"dp"}
{"id":"dp-s003","date":"2025-12-15","topic":"claude-mem-review-session-card-redesign","learnings":["claude-mem uses structured sections (Investigated/Learned/Completed/Next Steps) instead of raw transcripts - more scannable and smaller than full JSONL files","Progressive disclosure via toggle buttons (facts vs narrative view) is effective UX for dense session content","Our sessions skill already captures most needed fields: learnings\u2192Learned, next_actions\u2192Next Steps, open_questions (unique to us), issues_worked\u2192Completed","Hybrid approach for session cards: structured summaries from sessions skill as primary view, full transcript as optional drill-down tab","Dependency chains should reflect implementation reality - sessions skill integration (#005) is foundation, transcript parsing (#001) is optional enhancement"],"open_questions":[],"next_actions":["Implement #005 (session cards from sessions skill) when ready - now P1 and unblocked","Evolve sessions skill fields organically as we build the card UI rather than pre-planning schema changes"],"issues_worked":["dp-010","dp-005","dp-002","dp-001","dp-003","dp-004"],"user":"dp"}
{"id":"dp-s004","date":"2025-12-15","topic":"css-architecture-review","learnings":["2200 lines of CSS is proportionate to app complexity - multiple card types, layouts, viewers, editors, print styles","Template CSS variables already well-architected - colors shared via combined selectors for card+viewer","Markdown typography duplicated in 3 places: .preview-content, .viewer-markdown, .viewer-description","Code block styling (.preview-code, .viewer-code-only) and split pane layouts also duplicated"],"open_questions":[],"next_actions":["Refactor CSS with shared base classes (.md-content, .code-block) - tracked in issue 011"],"issues_worked":["dp-011"],"user":"dp"}
{"id":"dp-s005","date":"2025-12-15","topic":"css-layers-phase1","learnings":["CSS @layer provides explicit cascade control - unlayered styles always beat layered styles regardless of specificity","Inlining vendor CSS (~100 lines) into a layer is cleaner than fighting CDN load order with !important","hljs adds padding:1em to code elements - need explicit padding:0 overrides in code preview containers"],"open_questions":["Should we increase code preview limit further than 800 chars, or is that sufficient?"],"next_actions":["Phase 2: Organize existing CSS into layer blocks (issue 013)","Phase 3: Consolidate shared patterns like .md-content (issue 014)"],"issues_worked":["dp-011","dp-012","dp-013","dp-014"],"user":"dp"}
{"id":"dp-s006","date":"2025-12-15","topic":"css-layers-phase2","learnings":["CSS @layer blocks can be reopened multiple times - styles merge into the same layer","Print styles should stay unlayered since they use !important extensively and need to override everything","Layer structure: reset < vendors < base < components < templates (unlayered theme.css wins over all)"],"open_questions":[],"next_actions":["Phase 3: Create shared .md-content class for markdown typography (issue 014)"],"issues_worked":["dp-013"],"user":"dp"}
{"id":"dp-s007","date":"2025-12-15","topic":"css-layers-phase3","learnings":["Created .md-content shared class with 25 rules for markdown typography (headings, lists, code, tables, etc.)","Pattern: elements get both classes (e.g. class='md-content preview-content') - base + context-specific overrides","Reduced CSS by net 21 lines while maintaining identical visual output"],"open_questions":[],"next_actions":[],"issues_worked":["dp-014"],"user":"dp"}
{"id":"dp-s008","date":"2025-12-15","topic":"css-layers-complete","learnings":["theme.css now loads into @layer theme - highest layer but still beaten by unlayered print styles","Print styles don't need \\!important - being unlayered means they beat all layers automatically","Full layer hierarchy: reset < vendors < base < components < templates < theme < [unlayered]"],"open_questions":[],"next_actions":[],"issues_worked":["dp-011","dp-014"],"user":"dp"}
{"id":"dp-s009","date":"2025-12-15","topic":"css-layers-documentation","learnings":["CSS cascade layers architecture should be documented in CLAUDE.md for future reference","Key documentation: layer hierarchy table with purpose and when-to-use guidance"],"open_questions":[],"next_actions":[],"issues_worked":["dp-011","dp-014"],"user":"dp"}
{"id":"dp-s010","date":"2025-12-15","topic":"session-cards-implementation","learnings":["Session cards MVP implemented: template, preview/viewer renderers, CSS, filesystem loading from .memory/sessions.jsonl","Skills don't have a standard config pattern - they're 'instructions-first, not state-first' per official docs","Symlinked skill directories can't have local config.yaml shadowed - the whole directory is symlinked, not individual files","research-notebook is special case: dev/ folder is the natural notebook for development, but skills write to repo root by default"],"open_questions":["How should symlinked skills support per-project configuration without breaking self-containment?","Should skill config live in project CLAUDE.md, a separate file, or environment variables?"],"next_actions":["Design skill configuration pattern in skill-issues repo that works with symlinks","Once config pattern decided, move .issues/ and .memory/ to dev/ for research-notebook","Test session cards in browser to verify rendering works"],"issues_worked":["dp-005","dp-015","dp-016","dp-017"],"user":"dp"}
{"id":"dp-s011","date":"2025-12-15","topic":"permission-scope-design","learnings":["File System Access API won't follow symlinks outside permission scope - this is a security restriction, not a bug","Granting permission to parent directory does allow access to .memory/ - confirmed via console test","Core tension identified: permission scope and notebook initialization (.notebook/) are tightly coupled but shouldn't be"],"open_questions":["Which solution pattern for permission scope issue: notebook_root setting, external directory linking, standardized dev folder, or accept limitation?","Should session/issue cards be editable in notebook or stay read-only views of skill data?"],"next_actions":["Review repo-dev-companion.md design doc and decide on approach","Consider medium-term Option A: auto-discover .notebook/ in subdirectories when opening parent"],"issues_worked":["dp-005"],"user":"dp"}
{"id":"dp-s012","date":"2025-12-15","topic":"permission-scope-design-continued","learnings":["Created issue #018 for notebook root auto-discovery feature","Auto-discovery enables multiple notebook selection from single parent permission grant","Issues skill has silent failure bug: --create returns success JSON but fails to append when description has special characters or --labels flag used"],"open_questions":["What causes issues.py --create to silently fail with complex descriptions?"],"next_actions":["Investigate and fix silent failure bug in issues skill"],"issues_worked":["dp-005","dp-018"],"user":"dp"}
{"id":"dp-s013","date":"2025-12-16","topic":"artifacts-vs-process-decision","learnings":["Key distinction: artifacts (lasting, editable, notebook) vs process (transient, append-only, CLI)","Sessions and issues are process logs - they don't belong in notebook as cards","ADR-style design docs are artifacts - they naturally fit as markdown notes, no special skill needed","Permission scope problem dissolves when not integrating sessions/issues into notebook","TUI tool may be better fit for sessions/issues viewing than notebook cards"],"open_questions":[],"next_actions":["Consider TUI for skill-issues to provide richer viewing experience"],"issues_worked":["dp-001","dp-002","dp-003","dp-004","dp-005","dp-015","dp-016","dp-017","dp-018"],"user":"dp"}
{"id":"dp-s014","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-planning","learnings":["Single HTML file architecture is hitting limits - themes, defaults, maintainability","ES module imports work with file:// protocol in modern browsers - enables multi-file without server","fetch() doesn't work with file://, but dynamic import() does - themes/defaults must be JS modules exporting strings","Lazy/copy-on-write for notebook defaults: app loads from its directory, writes to notebook only on edit","Notebooks are already multi-file (directories); single-file constraint only applies to app itself"],"open_questions":["Best approach for CLAUDE.md initialization in notebooks? (CLI vs app button vs auto-create)","Optimal JS module granularity? (by section vs finer-grained vs by feature)"],"next_actions":["Start with dp-019: convert CSS themes to ES modules and verify file:// imports work"],"issues_worked":["dp-019","dp-020","dp-021","dp-022","dp-023","dp-024","dp-025"]}
{"id":"dp-s015","user":"dp","date":"2025-12-26","topic":"example-notebooks-decision","learnings":["Example notebooks as templates solve CLAUDE.md initialization - different use cases need different Claude instructions","Card templates should only be included in examples if genuinely customized, standard types inherit via lazy/copy-on-write","Confirmed no .sessions confusion in architecture doc - correctly describes only .notebook/ structure"],"open_questions":["What specific Claude instructions should go in tutor-notebook CLAUDE.md vs research-notebook?","Should demo-notebook be refactored into research-notebook or kept separate?"],"next_actions":["Start dp-019: convert themes to ES modules (still the first implementation step)"],"issues_worked":["dp-025","dp-026"]}
{"id":"dp-s016","user":"dp","date":"2025-12-26","topic":"migration-issues-review","learnings":["Removed defaults/claude-md.js and defaults/readme.js from plan - CLAUDE.md/README.md now live only in example notebooks","dp-024 (cleanup) must depend on both dp-023 (theme picker) AND dp-026 (examples) - can't finish cleanup until examples exist","Phase 5 split into 5a (Theme System) and 5b (Example Notebooks) which can run in parallel after Phase 4"],"open_questions":[],"next_actions":["Start dp-019: create directory structure and convert themes to ES modules"],"issues_worked":["dp-022","dp-024","dp-026"]}
{"id":"dp-s017","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-phase1-2","learnings":["ES module imports work with file:// protocol in Chrome/Edge - key enabler for no-build-step architecture","Themes as JS modules: export name, description, and default CSS string - allows metadata without loading all CSS upfront","CSS extraction straightforward: sed to extract lines, preserve @layer structure, link from index.html"],"open_questions":["Will JS extraction (Phase 3) require careful ordering due to global state dependencies?"],"next_actions":["Continue with dp-021 (Extract JavaScript) - largest phase, may need sub-tasks"],"issues_worked":["dp-019","dp-020"]}
{"id":"dp-s018","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-phase3","learnings":["Single-file JS extraction simpler than multi-module refactor - do incremental steps","Extracted 6500 lines of JS to js/app.js, index.html now 210 lines (HTML only)","App works without changes - just external script loading"],"open_questions":[],"next_actions":["Split js/app.js into ES modules (dp-027) - handle circular deps carefully"],"issues_worked":["dp-021","dp-027"]}
{"id":"dp-s019","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-conclusion","learnings":["ES modules require server - incompatible with file:// protocol design goal","Regular script splitting without ES modules provides no real encapsulation benefit","Single js/app.js with section markers + generate_index.py is adequate for ~6500 lines"],"open_questions":[],"next_actions":[],"issues_worked":["dp-027"]}
{"id":"dp-s020","user":"dp","date":"2025-12-26","topic":"multi-file-js-modules-rejected","learnings":["ES modules require HTTP server - don't work with file:// protocol","Regular script splitting (non-ES) provides no encapsulation - all functions global","Single js/app.js with section markers is cleaner than multiple global-scope files","Phases 1-3 complete: index.html + css/app.css + js/app.js separation is the practical endpoint"],"open_questions":[],"next_actions":["Consider merging refactor/multi-file-architecture to main"],"issues_worked":["dp-027"]}
{"id":"dp-s021","user":"dp","date":"2025-12-26","topic":"multi-file-cleanup","learnings":["ES modules rejected - require server, incompatible with file:// protocol","Single js/app.js with section markers is practical endpoint for multi-file refactor","generate_index.py updated to parse js/app.js (functions no longer indented)","Created 3 example notebooks with different themes: research (manuscript), dev (terminal), tutor (friendly)"],"open_questions":[],"next_actions":[],"issues_worked":["dp-022","dp-026"]}
{"id":"dp-s022","user":"dp","date":"2025-12-26","topic":"multi-file-architecture-complete","learnings":["Notebooks with .notebook/settings.yaml are recognized as existing (not re-initialized)","Example notebooks should be minimal: settings.yaml, theme.css, CLAUDE.md, README.md only","Empty notebooks no longer auto-create Research section - users add first section manually","Dark themes need comprehensive CSS variable overrides including buttons, modals, inputs"],"open_questions":[],"next_actions":[],"issues_worked":["dp-024","dp-028"]}
